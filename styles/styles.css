/* ====== Тема и палитра (базовые значения) ====== */
:root{
  /* Базовые */
  --bg: #0a0c12;             /* фон */
  --surface: #10131a;        /* карточки */
  --surface-2: #141a24;      /* вторичная поверхность */
  --text: #e9eefb;           /* текст */
  --text-dimmed:#a8b0c3;     /* приглушённый текст */
  --border: #243048;         /* границы */
  --radius: 14px;
  --shadow: 0 10px 30px rgba(0,0,0,.35);

  /* Акценты */
  --brand:#6aa0ff;           /* основной акцент */
  --brand-2:#9ab7ff;         /* светлый акцент */
  --brand-3:#59fcb3;         /* зелёный акцент для градиентов */
  --glow: rgba(106,160,255,.35); /* свечение */

  /* Статусы */
  --ok:#22c55e;
  --warn:#f59e0b;
  --danger:#ef4444;

  /* Для sticky‑footer без сжатия */
  --header-h: 64px;  /* совпадает с .header-inner min-height */
  --footer-h: 60px;  /* примерная высота футера */
}

@media (prefers-color-scheme: light){
  :root{
    /* Сделал светлую тему контрастнее */
    --bg: #f3f6fc;
    --surface: #ffffff;
    --surface-2: #eef2f9;
    --text: #0b1220;
    --text-dimmed:#34425a;
    --border:#c6d0e1;         /* темнее прежнего #dfe6fb для лучшего контраста */
    --shadow: 0 10px 28px rgba(2,6,23,.09);
    --glow: rgba(106,160,255,.22);
    --brand:#4e76ff;
    --brand-2:#3458ff;
    --brand-3:#0bd89a;
  }
}

/* ====== База ====== */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji", "Segoe UI Symbol";
  color:var(--text);
  background:
    radial-gradient(1200px 600px at 10% 0%, rgba(108,99,255,.11), transparent 60%),
    radial-gradient(1000px 600px at 95% 20%, rgba(89,252,179,.08), transparent 65%),
    linear-gradient(180deg, #0b1220 0%, var(--bg) 240px);
  position: relative;
  overflow-x: hidden;
}
body::before, body::after{
  content:"";
  position: fixed; inset: -30% -10% auto auto;
  width: 42vw; height: 42vw;
  background: radial-gradient(closest-side, rgba(106,160,255,.12), transparent 70%);
  filter: blur(40px);
  z-index: -1; pointer-events:none;
  transform: translate(0,-10%);
}
body::after{
  inset: auto auto -25% -10%;
  width: 50vw; height: 50vw;
  background: radial-gradient(closest-side, rgba(89,252,179,.10), transparent 70%);
  transform: translate(0,10%);
}

/* Главная область тянется на высоту окна минус шапка и футер */
main{ min-height: calc(100dvh - var(--header-h) - var(--footer-h)); }

/* ====== Утилиты ====== */
.container{ max-width: 1100px; margin: 0 auto; padding: 0 18px; }
.stack-lg > * + *{ margin-top: clamp(18px, 3vw, 30px); }
.h2{font-size: clamp(24px, 3.2vw, 34px); margin: 0 0 10px; font-weight: 800; letter-spacing:.2px}
.h3{font-size: clamp(18px, 2.2vw, 22px); margin: 0 0 8px; font-weight: 700}
.text-dimmed{color:var(--text-dimmed)}
.divider{height:1px;background:linear-gradient(90deg, transparent, var(--border), transparent);margin:16px 0}
.link{color:var(--brand);text-decoration:none}
.link:hover{text-decoration:underline}

.card{
  background:
    linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,0) 40%),
    var(--surface);
  border:1px solid rgba(255,255,255,.06);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: clamp(16px, 2.4vw, 24px);
  backdrop-filter: saturate(110%) blur(4px);
}

/* ====== Шапка ====== */
.skip-link{
  position:absolute;left:-999px;top:-999px;
}
.skip-link:focus{left:8px;top:8px;background:#fff;color:#111;padding:8px;border-radius:8px}

.site-header{
  position: sticky; top:0; z-index:10;
  background: rgba(16,19,26,.55);
  -webkit-backdrop-filter: blur(10px); backdrop-filter: blur(10px);
  border-bottom:1px solid rgba(255,255,255,.06);
}
.header-inner{display:flex;align-items:center;gap:16px;min-height:var(--header-h)}
.logo{display:inline-flex;align-items:center;gap:10px;color:inherit;text-decoration:none}
.logo__text{font-weight:700;letter-spacing:.2px}

.site-nav{margin-left:auto;display:flex;gap:8px;flex-wrap:wrap}
.site-nav a{
  color: var(--text); text-decoration:none;
  padding:10px 12px; border-radius:12px;
  border:1px solid transparent;
  transition: background .18s ease, color .18s ease, border-color .18s ease, box-shadow .18s ease;
}
.site-nav a[aria-current="page"], .site-nav a:hover{
  background: linear-gradient(180deg, rgba(106,160,255,.10), rgba(106,160,255,.03));
  color: var(--brand-2);
  border-color: rgba(106,160,255,.25);
  box-shadow: 0 0 0 4px rgba(106,160,255,.08) inset;
}

/* ====== Герой ====== */
.hero{
  display:grid;grid-template-columns: 120px 1fr;gap:18px;align-items:center
}
.hero__media img{
  width:100%;height:auto;border-radius:14px;border:1px solid rgba(255,255,255,.08);background:#222;
  box-shadow: 0 12px 28px rgba(0,0,0,.35);
}
.hero__actions{margin-top:10px}

/* ====== Кнопки ====== */
.btn{
  --btn-bg: linear-gradient(180deg, var(--brand), #7fc3ff);
  display:inline-flex;align-items:center;justify-content:center;
  padding:10px 16px;border-radius:12px;border:1px solid rgba(255,255,255,.08);
  background: var(--btn-bg); color: #0b0e16; font-weight:700;
  box-shadow: 0 8px 18px var(--glow);
  transition: transform .08s ease, filter .15s ease, box-shadow .15s ease;
}
.btn:hover{filter:brightness(1.05)}
.btn:active{transform:translateY(1px)}
.btn--ghost{
  background: linear-gradient(180deg, rgba(106,160,255,.15), rgba(106,160,255,.05));
  color: var(--brand-2);
  border-color: rgba(106,160,255,.35);
  box-shadow: 0 6px 14px rgba(106,160,255,.18);
}

/* ====== Навыки / прогресс ====== */
.skills{ list-style:none;margin:0;padding:0;display:grid;gap:12px }
.skills li{ display:grid;grid-template-columns: 170px 1fr auto;gap:12px;align-items:center }
.progress{
  position:relative;height:12px;background:linear-gradient(180deg, rgba(255,255,255,.03), rgba(0,0,0,.15));
  border-radius:999px;border:1px solid rgba(255,255,255,.08);overflow:clip
}
.progress > span{
  position:absolute;left:0;top:0;height:100%;width:var(--value,0);
  background: linear-gradient(90deg, var(--brand), var(--brand-3));
  box-shadow: 0 0 16px rgba(106,160,255,.35);
}
.progress__value{ font-variant-numeric: tabular-nums; color:var(--text-dimmed) }

/* Больше пространства перед кнопкой "Добавить запись" */
.skills + .actions{
  margin-top: clamp(16px, 3.2vw, 32px);
}

/* ====== Грид карточек ====== */
.cards-grid{ display:grid; grid-template-columns: repeat(3, 1fr); gap: 18px; }
.project-card{
  padding:16px;border:1px solid rgba(255,255,255,.06);border-radius:14px;background:
    linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,0) 50%),
    var(--surface-2);
  transition: transform .14s ease, border-color .14s ease, box-shadow .14s ease;
  box-shadow: 0 8px 20px rgba(0,0,0,.20);
  cursor: pointer;
}
.project-card:hover{
  transform:translateY(-3px);
  border-color: rgba(106,160,255,.35);
  box-shadow: 0 12px 26px rgba(106,160,255,.18);
}
.project-card__title{margin:0 0 6px;font-size:18px;font-weight:700}

/* Статичные карточки на главной */
.project-card--static{ cursor: default; }
.project-card--static:hover{ transform:none; border-color: rgba(255,255,255,.06); box-shadow: 0 8px 20px rgba(0,0,0,.20); }

/* ====== Фильтры ====== */
.section-head{display:flex;align-items:center;gap:12px;justify-content:space-between;flex-wrap:wrap}
.filters{display:flex;gap:10px}
.chip{
  border:1px solid rgba(255,255,255,.08);
  background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(0,0,0,.10));
  color:var(--text);
  border-radius:999px; padding:8px 14px; cursor:pointer;
  transition: background .18s ease, color .18s ease, box-shadow .18s ease, border-color .18s ease;
}
.chip.is-active{
  color:#0b0e16; 
  background: linear-gradient(180deg, var(--brand), #7fc3ff);
  border-color: rgba(106,160,255,.6);
  box-shadow: 0 8px 18px var(--glow);
}

/* ====== Модалка (общая) ====== */
.modal{position:fixed;inset:0;display:none}
.modal[aria-hidden="false"]{display:block}
.modal__backdrop{position:absolute;inset:0;background:linear-gradient(180deg, rgba(10,12,18,.6), rgba(10,12,18,.8)); backdrop-filter: blur(2px)}
.modal__dialog{
  position:relative;z-index:1;max-width:640px;margin:10vh auto 0;
  background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.01) 55%), var(--surface);
  border:1px solid rgba(255,255,255,.08);border-radius:16px;
  padding:22px;box-shadow: 0 30px 80px rgba(0,0,0,.45);
  animation: modalIn .18s ease-out;
}
@keyframes modalIn{ from{ transform: translateY(6px); opacity:.0 } to{ transform:none; opacity:1 } }
.modal__close{
  position:absolute;top:8px;right:10px;border:none;background:transparent;
  color:var(--text-dimmed);font-size:26px;cursor:pointer;border-radius:8px;padding:4px
}
.modal__close:hover{ background: rgba(255,255,255,.06); color:var(--text) }
.modal__actions{display:flex;gap:10px;margin-top:12px;flex-wrap:wrap}

/* Форма внутри модалки (для ввода задачи) */
.modal__form{
  display:grid;
  gap:12px;
  margin-top:12px;
}

/* ====== Галерея скриншотов в модалке проектов ====== */
.modal__gallery{
  margin-top:12px;
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:10px;
}
.modal__gallery img{
  width:100%;
  height:220px;
  object-fit:cover;
  border-radius:12px;
  border:1px solid rgba(255,255,255,.08);
  background:#0b0e16;
  box-shadow: 0 6px 14px rgba(0,0,0,.18);
}
@media (max-width: 640px){
  .modal__gallery{ grid-template-columns: 1fr; }
  .modal__gallery img{ height:180px; }
}

/* ====== Дневник ====== */
.timeline{
  list-style:none; margin:0; padding:0; display:grid; gap:12px;
}
.timeline li{
  --accent1: var(--brand);
  --accent2: var(--brand-3);
  padding:12px 14px;
  border-radius:12px;
  background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.00));
  border:1px solid rgba(255,255,255,.06);
  position:relative;
}
.timeline li::before{
  content:""; position:absolute; left:-1px; top:0; bottom:0; width:4px;
  background: linear-gradient(180deg, var(--accent1), var(--accent2));
  border-top-left-radius:12px; border-bottom-left-radius:12px;
}

/* ВЫПОЛНЕНО: зелёные акценты и спокойный фон */
.timeline li.is-done{
  --accent1: #22c55e;
  --accent2: #59fcb3;
  border-style: solid;
}

/* В ПРОЦЕССЕ: оранжевые акценты, пунктирная рамка */
.timeline li.is-progress{
  --accent1: #f59e0b;
  --accent2: #fdba74;
  border-style: dashed;
}

/* Бейджи статуса — отступ и визуальная разница */
.status{
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding:4px 10px;
  margin-left: 12px;
  border-radius:999px;
  border:1px solid transparent;
  font-size: 14px;
  line-height: 1;
  white-space: nowrap;
}
.status--done{
  color:#9df5be;
  background: rgba(34,197,94,.14);
  border-color: rgba(34,197,94,.35);
}
.status--done::before{ content:"✓"; }
.status--progress{
  color:#ffd39a;
  background: rgba(245,158,11,.15);
  border-color: rgba(245,158,11,.40);
}
.status--progress::before{ content:"⏳"; }

/* Больше воздуха под списком до разделителя */
.timeline + .divider{ margin-top: 18px; }

/* ====== Форма ====== */
.contact-form{display:grid;gap:14px;max-width:640px}
.field{display:grid;gap:6px}
.field label{ color: var(--text-dimmed); font-weight:600; }
.field input,.field textarea{
  width:100%;padding:12px 14px;border-radius:12px;
  border:1px solid rgba(255,255,255,.10);background:linear-gradient(180deg, rgba(255,255,255,.03), rgba(0,0,0,.10));color:var(--text)
}
.field input:focus,.field textarea:focus{
  outline:2px solid rgba(106,160,255,.45); box-shadow: 0 0 0 4px rgba(106,160,255,.10);
}
.error{color:var(--danger);min-height:1em}
.form-status{margin-top:4px;color:var(--ok)}
.contact-list{list-style:none;margin:0;padding:0;display:grid;gap:10px}

/* Иконки (как <img>) — читаемость в тёмной теме */
.icon{
  width: 18px;
  height: 18px;
  margin-right: 8px;
  vertical-align: middle;
  filter: invert(1) brightness(1.6) contrast(.9);
  opacity: .95;
}
@media (prefers-color-scheme: light){
  .icon{ filter: none; opacity: .9; }
}

/* Ссылки в контактах */
.contact-list a{
  color: var(--brand);
  text-decoration: none;
}
.contact-list a:hover{ text-decoration: underline; }
.contact-list a:visited{ color: var(--brand-2); }


.site-footer{
  margin:40px 0 20px;
  color:var(--text-dimmed);
  text-align:center;
  min-height: var(--footer-h);
  display:flex; align-items:center; justify-content:center;
  border-top: 1px solid rgba(255,255,255,.06);
}

/* ====== Reduced motion ====== */
@media (prefers-reduced-motion: reduce){
  *{ animation:none !important; transition:none !important }
}

/* ====== Адаптив ====== */
@media (max-width: 980px){
  .cards-grid{grid-template-columns: repeat(2, 1fr);}
  .skills li{grid-template-columns: 1fr 1fr auto}
}
@media (max-width: 640px){
  .hero{grid-template-columns: 1fr;}
  .skills li{grid-template-columns: 1fr; align-items:stretch}
  .cards-grid{grid-template-columns: 1fr;}
}

/* ================= Переключение темы (кнопка) ================= */
.theme-toggle{
  margin-left: 4px;
  width: 38px; height: 38px;
  display:inline-flex; align-items:center; justify-content:center;
  border-radius: 10px;
  border: 1px solid rgba(255,255,255,.10);
  background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.02));
  color: var(--text);
  cursor: pointer;
  transition: transform .08s ease, filter .15s ease, box-shadow .15s ease, background .2s ease, border-color .2s ease;
  box-shadow: 0 6px 16px rgba(0,0,0,.25);
}
.theme-toggle:hover{
  filter: brightness(1.05);
  border-color: rgba(255,255,255,.20);
}
.theme-toggle:active{ transform: translateY(1px); }

/* В светлой теме делаем кнопку контрастнее */
[data-theme="light"] .theme-toggle{
  border-color: rgba(2,6,23,.12);
  background: linear-gradient(180deg, rgba(2,6,23,.06), rgba(2,6,23,.02));
  box-shadow: 0 6px 16px rgba(2,6,23,.1);
}


:root[data-theme="light"]{
  --bg: #f3f6fc;
  --surface: #ffffff;
  --surface-2: #eef2f9;
  --text: #0b1220;
  --text-dimmed:#34425a;
  --border:#c6d0e1;
  --shadow: 0 10px 28px rgba(2,6,23,.09);
  --brand:#4e76ff;
  --brand-2:#3458ff;
  --brand-3:#0bd89a;
}
:root[data-theme="dark"]{
  --bg: #0a0c12;
  --surface: #10131a;
  --surface-2: #141a24;
  --text: #e9eefb;
  --text-dimmed:#a8b0c3;
  --border: #243048;
  --shadow: 0 10px 30px rgba(0,0,0,.35);
  --brand:#6aa0ff;
  --brand-2:#9ab7ff;
  --brand-3:#59fcb3;
}
[data-theme="dark"] .icon{ filter: invert(1) brightness(1.6) contrast(.9); opacity:.95; }
[data-theme="light"] .icon{ filter: none; opacity:.9; }

@media (prefers-color-scheme: light){
  .site-header{
    background: rgba(255,255,255,.88);
    border-bottom: 1px solid var(--border);
  }
  .site-nav a[aria-current="page"], .site-nav a:hover{
    background: rgba(78,118,255,.12);
    color: var(--brand-2);
    border-color: var(--border);
    box-shadow: 0 0 0 4px rgba(78,118,255,.12) inset;
  }
  .card{ border:1px solid var(--border); }
  .project-card{ border:1px solid var(--border); background:
    linear-gradient(180deg, rgba(2,6,23,.02), rgba(2,6,23,.00) 50%),
    var(--surface-2); }
  .progress{ background: linear-gradient(180deg, rgba(2,6,23,.04), rgba(2,6,23,.10)); border:1px solid var(--border); }
  .modal__backdrop{ background: linear-gradient(180deg, rgba(2,6,23,.30), rgba(2,6,23,.45)); }
  .modal__dialog{ border:1px solid var(--border); }
  .modal__gallery img{ border:1px solid var(--border); background:#fff; }
  .chip{ border-color: var(--border); background: linear-gradient(180deg, rgba(2,6,23,.02), rgba(2,6,23,.04)); }
  .btn--ghost{
    background: linear-gradient(180deg, rgba(78,118,255,.14), rgba(78,118,255,.04));
    color: var(--brand-2);
    border-color: rgba(78,118,255,.40);
    box-shadow: 0 6px 14px rgba(78,118,255,.12);
  }
  .timeline li{
    border-color: var(--border);
    background: linear-gradient(180deg, rgba(2,6,23,.02), rgba(2,6,23,.00));
  }
  .site-footer{ border-top: 1px solid var(--border); }
}

:root[data-theme="light"] .site-header{
  background: rgba(255,255,255,.88);
  border-bottom: 1px solid var(--border);
}
:root[data-theme="light"] .site-nav a[aria-current="page"],
:root[data-theme="light"] .site-nav a:hover{
  background: rgba(78,118,255,.12);
  color: var(--brand-2);
  border-color: var(--border);
  box-shadow: 0 0 0 4px rgba(78,118,255,.12) inset;
}
:root[data-theme="light"] .card{ border:1px solid var(--border); }
:root[data-theme="light"] .project-card{
  border:1px solid var(--border);
  background: linear-gradient(180deg, rgba(2,6,23,.02), rgba(2,6,23,.00) 50%), var(--surface-2);
}
:root[data-theme="light"] .progress{
  background: linear-gradient(180deg, rgba(2,6,23,.04), rgba(2,6,23,.10));
  border:1px solid var(--border);
}
:root[data-theme="light"] .modal__backdrop{
  background: linear-gradient(180deg, rgba(2,6,23,.30), rgba(2,6,23,.45));
}
:root[data-theme="light"] .modal__dialog{ border:1px solid var(--border); }
:root[data-theme="light"] .modal__gallery img{ border:1px solid var(--border); background:#fff; }
:root[data-theme="light"] .chip{
  border-color: var(--border);
  background: linear-gradient(180deg, rgba(2,6,23,.02), rgba(2,6,23,.04));
}
:root[data-theme="light"] .btn--ghost{
  background: linear-gradient(180deg, rgba(78,118,255,.14), rgba(78,118,255,.04));
  color: var(--brand-2);
  border-color: rgba(78,118,255,.40);
  box-shadow: 0 6px 14px rgba(78,118,255,.12);
}
:root[data-theme="light"] .timeline li{
  border-color: var(--border);
  background: linear-gradient(180deg, rgba(2,6,23,.02), rgba(2,6,23,.00));
}
:root[data-theme="light"] .site-footer{ border-top: 1px solid var(--border); }


.status{ font-weight: 600; }

.status--done{

  background: rgba(34,197,94,.28);
  border-color: rgba(34,197,94,.65);
  color: #c9ffdd;
}
.status--progress{
  background: rgba(245,158,11,.28);
  border-color: rgba(245,158,11,.65);
  color: #ffe0a3;
}


:root[data-theme="light"] .status--done{
  background: #d1fadf;   /* яркий мятный фон */
  border-color: #16a34a; /* насыщённая окантовка */
  color: #0f6b3b;        /* тёмно‑зелёный текст д0ля читаемости */
}
:root[data-theme="light"] .status--progress{
  background: #ffe4b5;   /* светло‑оранжевый фон (ярче) */
  border-color: #f59e0b; /* насыщённая окантовка */
  color: #8a4d00;        /* контрастный текст */
}


:root[data-theme="light"] .timeline li.is-done{
  --accent1: #16a34a; 
  --accent2: #22c55e;
}
:root[data-theme="light"] .timeline li.is-progress{
  --accent1: #f59e0b;  
  --accent2: #f97316;
}